---
layout: post
title: "Linux 学习笔记-常用Linux命令(4)：文件内容查看"
date: 2016-12-26 
description: "Linux学习笔记-常用Linux命令(4)：文件内容查看，包括cat、tac、nl、more、less、head、tail、od等"
tag: Linux 
---   

## 前言
本文介绍Linux中几个常见的文件内容查看相关的命令，这些命令都有相关之处，很多功能可以用不同的命令来实现，关键在于活学活用。

* [1.cat和tac](#1)

* [2.nl命令](#2)

* [3.more和less](#3)

* [4.head和tail](#4)

* [5.od命令](#5)


****


<h2 id="1">1.cat和tac </h2>



**1.命令格式**

    cat [参数] 文件
    tac [参数] 文件

**2.命令功能**

cat 用来查看文件的内容

tac是cat反过来，它的意思是将文件从最后一行到第一行反向显示在屏幕上

两个命令后面均可以跟多个文件

**3.常用参数**

-A: 相当于-vET三个参数的整合

-b: 列出行号，空白行不标行号

-E: 将结尾的断行字符$显示出来

-n: 列出行号，包括空白行

-T: 将Tab键以^I显示出来

-v: 列出一些看不见的特殊字符


**4.常用范例**

**例1:** 将/etc/issue这个文件的内容显示在屏幕上

    [root@localhost ~]# cat /etc/issue

**例2:** 将/etc/issue这个文件的内容反向完整地显示在屏幕上(包含特殊字符)

    [root@localhost ~]# tac -A /etc/issue

**说明:** 在一般的环境中，Tab键和空格键效果差不多，显示均为空白，我们使用-A参数就可以知道这些空白是什么东西了。

****


<h2 id="2">2.nl命令 </h2>



**1.命令格式**

    nl [参数] 文件

**2.命令功能**

添加行号打印文件，类似于cat -n，但nl命令有更多的显示设计。

**3.常用参数**

-b: 指定行号指定的方式，主要有两种：

   -b a: 空行也列出行号(类似于cat -n)

   -b t: 空行不列出行号(类似于cat -b，默认值)

-n: 列出行号表示的方法，主要有三种:

   -n ln: 行号在屏幕的最左方显示

   -n rn: 行号在自己字段的最右方显示，空白位不加0

   -n rz: 行号在自己字段的最右方显示，空白位加0

-w: 指定行号字段占用的位数


**4.常用范例**

**例:** 用nl列出 /etc/issue的内容

    [root@localhost ~]# nl /etc/issue
       1  CentOS release 5.3 (Final)
       2  Kernel \r on an \m
    
    #文件事实上有三行，但nl默认不对空白行编号，即默认参数为-b t。如果需要为空白行加编号可用-b a参数。
    [root@localhost ~]# nl -b a /etc/issue
       1  CentOS release 5.3 (Final)
       2  Kernel \r on an \m
       3
    #可以看到编号前面是有空白的，如何让空白处补0呢？如下面，用-n rz参数。
    [root@localhost ~]# nl -b a -n rz /etc/issue
    000001  CentOS release 5.3 (Final)
    000002  Kernel \r on an \m
    000003
    #字段共6位数，不足6位前面补0.如何将字段改成3位数呢？用-w 3指定。
    [root@localhost ~]# nl -b a -n rz -w 3/etc/issue
    001  CentOS release 5.3 (Final)
    002  Kernel \r on an \m
    003
    

****


<h2 id="3">3.more和less </h2>

cat、tac和nl的不足是，会将文件全部内容显示出来。如果文件太长，想一页一页查看，就可以用more和less命令。

**1.命令格式**

    more 文件名
    less 文件名

**2.命令功能**

让用户一页一页查看文件。

**3.常用参数**

如果more或less后面接的文件内容行数大于屏幕输出的行数，屏幕显示对应信息，由用户决定如何查看。此时用户可以按对应按键进行操作。

**对于more:** 

-空格键：向下翻一页

-Enter：向下滚动一行

-/字符串：向下查询“字符串”这个关键字

-:f：立即显示文件名以及目前显示的行数

-q：离开more，不再继续显示内容

-b或按[ctrl]-b：代表往回翻页(只对文件有用，对管道无用)


**对于less:**

-空格键：向下翻一页

-[PageDown]：向下翻一页

-[PageUp]：向上翻一页

-/字符串：向下查询“字符串”这个关键字

-?字符串：向上查询“字符串”这个关键字

-n：查询下一个

-N：查询上一个

-q：离开less


****




<h2 id="4">4.head和tail </h2>


**1.命令格式**

    head [-n 数字] 文件
    tail [-n 数字] 文件

**2.命令功能**

head用于选择文件的前面几行，tail用于选择文件的最后几行。



**3.参数说明**

数字指定选择的行数，不指定时默认是10行。

head后接数字如果带-号，则代表除了最后的指定数目行，输出前面的所有行。

tail后接数字如果带+号，则代表除了开始的指定数目行，输出末尾所有行。

**4.常用范例**

设文件test有130行。则：

    [root@localhost ~]# head -n 20 test
    #输出test文件的1~20行
    [root@localhost ~]# head -n -20 test
    #除最后的20行，输出前面的所有行。即输出test文件的1~110行
    [root@localhost ~]# tail -n 20 test
    #输出test文件的最后20行，即111~20行
    [root@localhost ~]# tail -n +20 test
    #除开始的20行，输出后面所有行。即输出test文件的21~130行

可以利用管道输出中间的某些行

    [root@localhost ~]# head -n 20 test | tail -n 10
    #先取文件前20行，再从这20行中取后10行，即输出test文件的第11~20行的内容



****

<h2 id="5">5.od命令 </h2>

本文的上述命令均用于查看纯文本文件的内容。对于一些非文本文件，如执行文件等，由于通常是二进制(binary file)文件，用上述命令读取时会产生类似乱码的数据。

此时可用od命令来读取。

**1.命令格式**

    od [-t 类型] 文件

**2.命令功能**

使用



**3.参数说明**


-t后面可以接各种类型的输出，例如：
a: 利用默认的字符来输出

c: 利用ASCII字符来输出

d[size]: 利用十进制来输出数据，每个整数占用size 个字节

f[size]: 利用浮点数来输出数据，每个数占用size个字节

o[size]: 利用八进制来输出数据，每个数占用size个字节

x[size]: 利用十六进制来输出数据，每个数占用size个字节


**4.常用范例**

**例** 将test这个文件的内容以八进制列出，与ASCII字符做对照

    [root@localhost ~]# od -t oCc test
    0000000 141 142 143 144 145 146 147 150 151 152 153 154 155 156 157 160
              a   b   c   d   e   f   g   h   i   j   k   l   m   n   o   p
    0000020 161 162 163 164 165 166 167 170 171 172 012
              q   r   s   t   u   v   w   x   y   z  \n
    0000033
    #可以看到，以八进制列出的数值，实质上就是对应英文字母的ASCII码


****

转载请注明出处，本文地址：[http://kousw.com/2016/12/Linux-4](http://kousw.com/2016/12/Linux-4) 
